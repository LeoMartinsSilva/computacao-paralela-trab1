package principal;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.util.List;

import util.ArquivoUtil;

public class LeitorListaAsync {
	public Long buscar(String caminhoLista, String nomeEscolhido) {
		long tempoInicial = System.currentTimeMillis();
		List<File> arquivos = ArquivoUtil.listar(caminhoLista, "txt");
		boolean achou = false;
		String arquivoOndeEncontrou = "";
		for (File arquivo : arquivos) {
			LeitorArquivoAsync leitor = new LeitorArquivoAsync();
			leitor.setArquivo(arquivo);
			leitor.setNomeEscolhido(nomeEscolhido);
			Thread t = new Thread(leitor);
			t.start();
		}

		if (achou) {
			System.out.println("Achou no arquivo " + arquivoOndeEncontrou);
		}else {
			System.out.println("NÃ£o achou");
		}
		long tempoFinal = System.currentTimeMillis();
		return tempoFinal - tempoInicial;
	}
}
