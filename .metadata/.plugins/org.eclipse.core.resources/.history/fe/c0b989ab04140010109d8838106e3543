package principal;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.List;

public class Main {
	public static void main(String[] args) throws IOException {
		
		List<File> arquivos = listar("res", "txt");
		String nomeEscolhido = "Laurie Crane";
		boolean achou = false;
		String arquivoOndeEncontrou = "";
		for (File arquivo : arquivos) {
			try (InputStream is = new FileInputStream(arquivo)) {
				InputStreamReader scan = new InputStreamReader(is);
				BufferedReader br = new BufferedReader(scan);
				String nome = br.readLine();

				while (nome != null) {
					if (nome.equals(nomeEscolhido)) {
						arquivoOndeEncontrou = arquivo.getPath();
						achou = true;
						break;
					}

					nome = br.readLine();
				}
			}
			if (achou)
				break;
		}

		if (achou) {
			System.out.println("Achou no arquivo " + arquivoOndeEncontrou);
		}
	}

	private static ArrayList<File> listar(String caminho, String extensao) {
		File pasta = new File(caminho);

		return listar(pasta, extensao);
	}

	private static ArrayList<File> listar(File pasta, String extensao) {
		ArrayList<File> arquivos;

		arquivos = new ArrayList<>(Arrays.asList(pasta.listFiles()));
		arquivos.removeIf(arquivo -> !arquivo.getName().endsWith(extensao));

		return arquivos;
	}
}
